{
  "id": "template-new-lead-welcome",
  "name": "New Lead Welcome & Follow-up",
  "description": "Webhook trigger (new lead) → Send Email (welcome) → Delay (10 seconds) → HTTP Request (add lead to CRM) → Condition (if response.status == 200) → True branch: Send SMS (success message) → False branch: Send SMS (error alert to support).",
  "nodes": [
    {
      "id": "webhook-1",
      "type": "workflow-node",
      "position": {
        "x": 100,
        "y": 200
      },
      "data": {
        "label": "Webhook",
        "type": "webhook-trigger",
        "category": "trigger",
        "config": {
          "url": "/webhook/new-lead",
          "method": "POST",
          "headers": {}
        },
        "isValid": true
      }
    },
    {
      "id": "email-1",
      "type": "workflow-node",
      "position": {
        "x": 350,
        "y": 200
      },
      "data": {
        "label": "Send Email",
        "type": "send-email",
        "category": "action",
        "config": {
          "to": "{{lead.email}}",
          "subject": "Welcome! Thanks for joining us",
          "body": "Hi {{lead.name}},\n\nWelcome to our platform! We're excited to have you on board.\n\nHere are some resources to get you started:\n- Getting Started Guide\n- Video Tutorials\n- Community Forum\n\nBest regards,\nThe Team",
          "cc": ""
        },
        "isValid": true
      }
    },
    {
      "id": "delay-1",
      "type": "workflow-node",
      "position": {
        "x": 600,
        "y": 200
      },
      "data": {
        "label": "Delay",
        "type": "delay",
        "category": "action",
        "config": {
          "duration": 10,
          "unit": "seconds"
        },
        "isValid": true
      }
    },
    {
      "id": "http-1",
      "type": "workflow-node",
      "position": {
        "x": 850,
        "y": 200
      },
      "data": {
        "label": "HTTP Request",
        "type": "http-request",
        "category": "action",
        "config": {
          "url": "https://api.example.com/crm/leads",
          "method": "POST",
          "headers": {
            "Authorization": "Bearer {{api.token}}",
            "Content-Type": "application/json"
          },
          "body": "{\"name\": \"{{lead.name}}\", \"email\": \"{{lead.email}}\", \"source\": \"{{lead.source}}\"}",
          "timeout": 5000
        },
        "isValid": true
      }
    },
    {
      "id": "condition-1",
      "type": "workflow-node",
      "position": {
        "x": 1100,
        "y": 200
      },
      "data": {
        "label": "Condition",
        "type": "condition",
        "category": "logic",
        "config": {
          "expression": "response.status",
          "operator": "equals",
          "value": "200"
        },
        "isValid": true
      }
    },
    {
      "id": "sms-1",
      "type": "workflow-node",
      "position": {
        "x": 1350,
        "y": 100
      },
      "data": {
        "label": "Send SMS",
        "type": "send-sms",
        "category": "action",
        "config": {
          "phoneNumber": "{{lead.phone}}",
          "message": "Hi {{lead.name}}, your account has been successfully created! Welcome aboard!"
        },
        "isValid": true
      }
    },
    {
      "id": "sms-2",
      "type": "workflow-node",
      "position": {
        "x": 1350,
        "y": 300
      },
      "data": {
        "label": "Send SMS",
        "type": "send-sms",
        "category": "action",
        "config": {
          "phoneNumber": "{{support.phone}}",
          "message": "ALERT: Failed to add lead {{lead.email}} to CRM. Status: {{response.status}}. Please investigate."
        },
        "isValid": true
      }
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "source": "webhook-1",
      "target": "email-1",
      "sourceHandle": "output",
      "targetHandle": "input"
    },
    {
      "id": "edge-2",
      "source": "email-1",
      "target": "delay-1",
      "sourceHandle": "success",
      "targetHandle": "input"
    },
    {
      "id": "edge-3",
      "source": "delay-1",
      "target": "http-1",
      "sourceHandle": "output",
      "targetHandle": "input"
    },
    {
      "id": "edge-4",
      "source": "http-1",
      "target": "condition-1",
      "sourceHandle": "output",
      "targetHandle": "input"
    },
    {
      "id": "edge-5",
      "source": "condition-1",
      "target": "sms-1",
      "sourceHandle": "true",
      "targetHandle": "input",
      "label": "True",
      "data": {
        "condition": "true"
      }
    },
    {
      "id": "edge-6",
      "source": "condition-1",
      "target": "sms-2",
      "sourceHandle": "false",
      "targetHandle": "input",
      "label": "False",
      "data": {
        "condition": "false"
      }
    }
  ],
  "viewport": {
    "x": 0,
    "y": 0,
    "zoom": 0.8
  },
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z"
}
